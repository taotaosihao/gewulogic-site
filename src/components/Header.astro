---
import { company, nav } from "../data/site";
---

<header class="sticky top-0 z-50 w-full border-b border-gray-100 bg-white/90 backdrop-blur-md">
  <div class="mx-auto flex h-16 max-w-7xl items-center justify-between px-4 sm:px-6 lg:px-8">
    <a href="#" class="flex items-center gap-2 group">
      <div class="h-8 w-8 rounded bg-blue-600 flex items-center justify-center text-white font-bold text-lg group-hover:bg-blue-700 transition-colors">
        {company.short[0]}
      </div>
      <span class="text-xl font-bold text-gray-900 tracking-tight">{company.short}</span>
    </a>

    <nav class="hidden gap-8 md:flex">
      {nav.map((n) => (
        <a href={n.href} class="text-sm font-medium text-gray-600 hover:text-blue-600 transition-colors">
          {n.label}
        </a>
      ))}
    </nav>

    <div class="flex items-center gap-4">
      <a href="#contact" class="rounded-md bg-blue-600 px-5 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600">
        免费咨询
      </a>
      <button class="md:hidden p-2 text-gray-500 hover:text-gray-900" onclick="openMobileMenu()" aria-label="打开菜单">
        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile menu overlay (hidden by default) -->
  <div id="mobile-menu" class="fixed inset-0 z-50 hidden md:hidden">
    <div class="absolute inset-0 bg-gray-900/50 backdrop-blur-sm" onclick="closeMobileMenu()"></div>
    <div class="absolute right-0 top-0 h-full w-64 bg-white p-6 shadow-xl">
      <div class="flex items-center justify-between mb-8">
        <span class="font-bold text-lg text-gray-900">{company.short}</span>
        <button class="text-gray-500 hover:text-gray-900" onclick="closeMobileMenu()">
          <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <nav class="flex flex-col gap-4">
        {nav.map((n) => (
          <a href={n.href} class="text-base font-medium text-gray-700 hover:text-blue-600" onclick="closeMobileMenu()">
            {n.label}
          </a>
        ))}
        <a href="#contact" class="mt-4 block w-full rounded-md bg-blue-600 px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-blue-700" onclick="closeMobileMenu()">
          免费咨询
        </a>
      </nav>
    </div>
  </div>
</header>

<script is:inline>
  function openMobileMenu() {
    document.getElementById('mobile-menu').classList.remove('hidden');
    document.body.style.overflow = 'hidden';
  }
  function closeMobileMenu() {
    document.getElementById('mobile-menu').classList.add('hidden');
    document.body.style.overflow = '';
  }
</script>
